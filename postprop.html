<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>prop form</title>
    <link rel="stylesheet" href="./Assets/css/poststyle.css">
</head>

<body>

    <div class="cont">
        <form action="prop.php" method="post" id="prop_form">
            <label for="place">Place</label>
            <select name="place" id="place" required>
                <option value="mumbai">Mumbai</option>
                <option value="pune">Pune</option>
                <option value="nagpur">Nagpur</option>
                <option value="thane">Thane</option>
                <option value="navi mumbai">Navi Mumbai</option>
            </select>

            <label for="choice">Property Type:</label>
            <select name="choice" id="choice" required>
                <option value="r">House</option>
                <option value="c">Shop</option>
                <option value="l">Land/Plot</option>
            </select>

            <label for="per">Sell/Rent</label>
            <select name="per" id="per" required>
                <option value="b">Sell</option>
                <option value="r">Rent</option>
            </select>

            <label for="price">Price</label>
            <select name="price" id="price" required>
                <option value="low">Low</option>
                <option value="medium">Medium</option>
                <option value="high">High</option>
            </select>

            <label for="area">Area Size</label>
            <select name="area" id="area" required>
                <option value="low">Low</option>
                <option value="medium">Moderate</option>
                <option value="high">High</option>
            </select>

            <label for="add">Address</label>
            <input type="text" placeholder="Property Address" id="add" name="add" required>
            
            <label for="desc">Description</label>
            <input type="text" placeholder="Property Description" id="desc" name="desc" required>

            <label for="image1">Property Image 1 Path</label>
            <input type="text" id="image1"  name="image1" placeholder="Path Img1" required>

            <label for="image2">Property Image 2 Path</label>
            <input type="text" id="image2" name="image2" placeholder="Path Img2" required>

            <label for="image3">Property Image 3 Path</label>
            <input type="text" id="image3" name="image3" placeholder="Path Img3" required>

            <label for="image4">Property Image 4 Path</label>
            <input type="text" id="image4" name="image4" placeholder="Path Img4" required>


            <input type="button" id="prop_sub" value="Post" onclick="run()">
        </form>
    </div>

    <script>
            function run() {
                document.getElementById('prop_sub').type='submit';
            document.getElementById('prop_sub').click();
            // localStorage.setItem(document.suform.name.value, document.suform.pwd.value);
            // updateCaptcha();
            setTimeout(() => {
            document.getElementById('submit').type='button';                
            document.getElementById("su_Form").reset();
            }, 200);
            var a = document.getElementById("place");
            var b = document.getElementById("choice");
            var c = document.getElementById("per");
            var d = document.getElementById("price");
            var e = document.getElementById("area");
            var f = document.getElementById("add");
            var g = document.getElementById("image1");
            var h = document.getElementById("desc");


            var a1 = a.value;
            var b1 = b.value;
            var c1 = c.value;
            var d1 = d.value;
            var e1 = e.value;
            var f1 = f.value;
            var g1 = g.value;
            var h1 = h.value;
            // var b1 = b.options[per.selectedIndex].value;
            // var place1 = c.options[place.selectedIndex].value;
            // var price1 = d.options[price.selectedIndex].value;
            // var add1 = e.value;
            // var image11 = f.value;
            // var desc1 = g.value;

            if (a1 == "" || b1 == "" || c1 == "" || d1 == "" || e1 == "" || f1 == "" || g1 == "" || h1 == "") {
                alert("Fill complete Form Properly");
                return 0;
            }
            const cur_ind=Number(localStorage.getItem("inputindex"));
            console.log(cur_ind);
            const next_ind=cur_ind+1;
            // let nis=toString(next_ind)
            localStorage.setItem("inputindex",JSON.stringify(next_ind));

            // var obj2 = { index: 0 };
            // obj2.price = price1;
            // obj2.place = place1;
            // obj2.add = add1;
            // obj2.desc = desc1;
            // obj.image = image1;

            var input_obj={
                index: `${cur_ind}`,
                pf: `${c1}`,
                price: `${d1}`,
		        place: `${a1}`,
                add: `${f1}`,
                desc: `${h1}`,
                area: `${e1}`,
                type: `${b1}`
            };
            inprop1.push(input_obj);
            localStorage.setItem("prop",JSON.stringify(inprop1));
            // var copyobj = obj.concat(obj2);
            // console.log(obj2);
        }
    </script>
</body>

</html>
